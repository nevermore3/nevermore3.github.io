## C&C++ 代码编写规范

----------
### 常见的内存越界问题和解决措施建议  
**Q:数组分配未考虑最大情况，导致空间不够**  
> A：数组的大小要考虑最大的情况，避免数组分配空间不足  

**使用危险函数printf /vsprintf/strcpy/strcat/gets操作字符串**
> A：使用相对安全的字符串库函数 snprintf/strncpy/strncat/fgets操作字符串  

**字符串没有考虑最后的‘\0’**  
> A:计算长度加1

**指针加减操作时候，没有考虑指针类型**
> A: 将指针作为无结构的内存块进行操作，先将其转换为char * 类型

**魔鬼数字： 人工计算字符串长度出错**
> A:调用函数来计算，不要手工计算

**魔鬼数字：人工计算结构长度出错**
> A:调用sizeof计算，不要手工计算

**未考虑结构类型，内存分配不够**
> A:调用sizeof计算， 不要手工计算

**数组下标未检查导致越界**
>A:对于外部输入的数组下标要做检查  

**使用了相似名子的宏定义/结构名称**
>A:注意相似的宏定义/结构,copy/paste特别小心

**变量没有初始化**
>A:总是初始化变量：在首次使用前声明、定义、初始化。

**没有校验外部输入参数**
>A:在外部接口处，检查所有的输入数据

**字节对齐出错**
>A:头文件的声明应该统一规划，一个文件里面不要有多种字节对齐方式

**编译开关不一致**
>A:应尽量减少或合并编译开关

**错误使用sizeof**
>A:在函数原型定义时，就应写作正确的指针类型。
