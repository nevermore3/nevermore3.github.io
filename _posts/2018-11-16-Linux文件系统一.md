### [Linux开机启动](https://blog.csdn.net/xiaoyi23000/article/details/51345179)

* 电脑开机--> BIOS(是一段程序)中的数据对计算机的健康状态自身检查
		
		将这段程序映射到内存最开始的那个段中(内存分为三段 BIOS段、内核空间和用户空间)

* 根据BIOS中设定的启动次序去寻找启动设备的MBR

		BOIS中设置的启动顺序去启动对应的系统：有硬盘、光盘、U盘

* 找到上述的设备进行加载，把BootLoader加载到内存中(BIOS退出，把指令交给BootLoader)--->读取分区表--->在分区中找到系统内核,把系统内核读进内存中进行解析--->把控制权交给内核--->内核启动自身--->内核根据配置找到文件系统的位置--->启动文件系统。


		剩余空间可能分成数个分区，每个分区有一个相关的分区表，记录分区的相关信息，分区表记录了对应分区的起始位置和分区大小。

![](https://img-blog.csdn.net/20160508133325495?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)


Windows分区有C、D、E、F等分区，Linux系统下也可以有很多分区，但都被挂载在同一个文件系统树上，每次进行安装系统的时候，我们都会进行分区，Linux下磁盘分区和目录关系如下：   

* 任何一个分区都必须挂载都某个目录上
* 目录是逻辑上的区分，分区是物理上的区分
* 磁盘Linux分区都必须挂载到目录树中
* 根目录是所有Linux的文件盒目录所在的地方，需要挂载上一个磁盘分区

![](http://img.my.csdn.net/uploads/201210/30/1351579754_9046.jpg)
![](https://img-blog.csdn.net/20160816100056425)

####  为什么要分区，如何分区？

* 可以把不同资料，分别放入不同分区中管理，降低风险
* 大磁盘搜索范围大，效率低下
* /home  /var  /usr/local经常是单独分区，因为经常会操作，容易产生碎片

####  mount挂载

挂载的概念

* 当要使用某个设备时，例如要读取硬盘中一个格式化好的分区、光盘、或者软件等设备，必须把这些设备对应到某个目录，这个目录不可以为空，但是挂载后这个目录下以前的内容将不可用，而这个目录就是挂载点，这样才可以读取这些设备。

所有的磁盘分区都必须被挂载上才能用，那机器上的硬盘分区是如何被挂载的？

* 主要利用了/etc/fstab文件，每次内核加载时知道从这里开始mount文件系统，linux系统启动后根据该文件定义自动挂载，若没有被自动挂载，分区将不能使用


#### 文件存储结构

  
Linux文件系统中，一个文件由以下三个部分组成：

* 目录项： 包括文件名和inode节点号
* inode： 文件索引点，记录文件的属性，一个文件占用一个inode，同时记录次文件的数据所在的block号码
* data block： 实际记录文件的内容，若文件太大，会占用多个block

![](https://img-blog.csdn.net/20160816100838642)

![](https://img-blog.csdn.net/20160816100856345)

![](https://img-blog.csdn.net/20160816100930205)



